# 量化策略解释

## 策略概述
这段代码是一个**“人工智能选股教练”的数据准备工作**。它的主要任务是整理过去十几年的股票数据，找出那些表现特别好的股票长什么样，然后把这些数据打包好，准备交给一个人工智能（AI）模型去学习。

## 策略的核心思路
这个策略的核心想法是：**“历史是可以借鉴的”**。

想象一下，如果你想找出谁是班里的“学霸”，你会去观察过去考试考得好的学生都有什么共同点（比如：作业写得认真、上课听讲、笔记做得好）。

这个策略也是一样：
1. 它回顾过去（2010年到2024年）所有的股票数据。
2. 它找出那些**跑赢大盘很多**的“学霸股票”。
3. 它记录下这些“学霸股票”的特征（比如市值大小、盈利能力等）。
4. **目的**：让电脑通过学习这些历史数据，学会预测未来哪些股票会大涨。

## 具体操作步骤

### 第一步：选股（建立“考生”名单）
首先，策略需要确定关注哪些股票。它不是什么垃圾股都看，而是有一个筛选标准：
1. **范围**：主要关注A股市场（上海和深圳交易所的股票）。
2. **剔除“坏学生”**：
   - **ST股**：经营状况出现异常、有退市风险的股票，直接不要。
   - **新股**：上市不满3个月的股票，因为数据太少，看不出规律，也不要。
   - **停牌/退市**：已经不交易的股票，当然也不要。

### 第二步：打分与贴标签（谁是“好学生”？）
这是代码中最关键的一步。它每个月都会做一次“考试”：
1. **计算成绩**：看这只股票在这个月涨了多少，同时看大盘（整个市场）涨了多少。
2. **评判标准**：
   - 如果一只股票的涨幅 **减去** 大盘的涨幅 **大于 10%**（0.1），它就被标记为**“好股票”**（代码里标记为 `label = 1`）。
   - 否则，它就是**“普通股票”**（代码里标记为 `label = 0`）。
   
   *通俗解释：只有那些比市场平均水平表现好很多的股票，才会被当作我们要学习的榜样。*

### 第三步：收集特征（“好学生”长什么样？）
为了让电脑学会识别好股票，策略收集了每只股票的5个“身体指标”（也就是因子）：
1. **市值（Size）**：公司规模有多大。
2. **贝塔（Beta）**：股票跟大盘的波动关系（是随波逐流还是特立独行）。
3. **市净率（Book-to-Price）**：股票便不便宜（性价比）。
4. **盈利能力（Earnings Yield）**：公司赚钱的能力强不强。
5. **成长性（Growth）**：公司发展速度快不快。

**数据清洗**：
代码里还做了一些“打扫卫生”的工作（去极值、填补缺失值）。
*比喻：如果某个数据太离谱（比如某个人身高3米），就把它修整一下，免得干扰判断；如果某个数据缺失了，就用行业平均水平填补上。*

### 第四步：生成教材（保存数据）
代码的最后部分并没有直接进行买卖，而是把上面整理好的所有数据（股票特征 + 它是好是坏的标签）保存成了两个大文件（CSV文件）：
- **训练集**：前10年的数据，用来“教”电脑。
- **测试集**：后几年的数据，用来“考”电脑，看它学得怎么样。

## 使用的工具/指标
这里用到了几个关键的量化概念，简单解释一下：

1. **因子（Factors）**：
   你可以把它理解为**“选股的指标”**。就像选西瓜看“瓜蒂卷不卷”、“声音脆不脆”一样，选股票看的是“盈利能力”、“成长速度”等。

2. **超额收益（Alpha）**：
   代码里计算的 `LABEL = 股票涨幅 - 大盘涨幅`。
   *解释：如果大盘涨了5%，你的股票涨了15%，那你多出来的这10%就是超额收益。这个策略只喜欢超额收益高的股票。*

3. **机器学习（Machine Learning）**：
   虽然代码里只写了数据准备，但引入了 `sklearn` 和 `svm` 等工具库。
   *解释：这是一种让电脑自动找规律的技术。你不用告诉电脑“如果盈利高就买”，而是把数据给它，让它自己算出“盈利高到什么程度且市值在什么范围时，股票最容易涨”。*

## 风险控制
虽然这段代码主要是处理数据，但它隐含了一些风控措施：
1. **不碰ST股**：避开了那些可能会暴雷、退市的垃圾股。
2. **不碰新股**：避开了新股上市初期价格剧烈波动的风险。
3. **去极值处理**：防止因为某个数据错误或极端异常，导致整个策略判断失误。

## 总结
这段代码是一个**“AI选股策略的数据工厂”**。

它并不直接帮你买卖股票，而是负责把过去十几年的股票数据清洗干净，计算出哪些股票是真正的“大牛股”，并记录下它们的特征。

它的最终目的是生成一份高质量的“教材”，供后续的人工智能模型去学习，从而让模型学会预测：**什么样的股票在未来一个月最有可能大涨。**