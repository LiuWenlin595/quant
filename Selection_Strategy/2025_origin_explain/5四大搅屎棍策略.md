## 策略概述
这是一个专门挑选**小盘绩优股**（规模小但赚钱能力强的公司）的策略，但它有一个非常特别的“开关”：只有当市场上的四个“大块头”行业（银行、有色、钢铁、煤炭）表现不强势的时候，它才会出手买入。

## 策略的核心思路
这个策略的核心想法很有趣，我们可以把它比喻成**“大象和蚂蚁”**的关系：

1.  **避开“大象”跳舞的时候**：策略认为，当银行、钢铁、煤炭、有色金属这四个“笨重”的传统行业（被称为“四大搅屎棍”）领涨市场时，通常意味着市场风格偏向保守，或者资金都被这些大块头吸走了。这时候，小股票通常表现不好，所以策略选择**不买入**。
2.  **抓住“蚂蚁”搬家的机会**：当这些“大象”安静下来，市场资金活跃时，策略就会去寻找那些**规模很小、但赚钱效率很高**的公司（小盘绩优股），因为这类股票在好行情下往往涨得最快。

## 具体操作步骤

### 第一步：判断市场环境（能不能玩？）
在买股票之前，策略会先看一眼现在的市场是谁在领头。

1.  **计算热度**：它会看全市场各个行业的股票，有多少股价站在了“20日均线”之上（简单说就是看哪个行业最近走势强）。
2.  **检查“黑名单”**：它会看排名前列的最强行业里，有没有以下四个“捣乱分子”：
    *   **银行**
    *   **有色金属**
    *   **钢铁**
    *   **煤炭**
3.  **决定**：
    *   如果这四个行业**都在**榜单前列，说明现在是大象跳舞，策略**不进行任何操作**（空仓）。
    *   如果这四个行业**都不在**榜单前列，说明市场环境适合小股票发挥，**进入下一步选股**。

### 第二步：选股（买哪只？）
如果第一步通过了，策略会从**中小板**（代表中小企业）的股票池里，按照以下标准挑选：

1.  **剔除风险股**：不买ST股（快破产的）、不买刚上市的新股、不买科创板。
2.  **只要赚钱能力强的**：
    *   **ROE（净资产收益率） > 15%**：这相当于看公司用股东的钱赚钱的能力，越高越好。
    *   **ROA（总资产收益率） > 10%**：这相当于看公司利用所有资产赚钱的能力，也是越高越好。
3.  **只要规模小的**：在满足上面条件的公司里，挑选**市值最小**的10只股票。
    *   *为什么？* 因为小市值的公司一旦涨起来，爆发力通常比大公司强得多。

### 第三步：买入（什么时候买？）
*   **时间**：每周一上午9:30（代码中设定了 `run_weekly`）。
*   **操作**：如果通过了第一步的检查，就买入选出的那10只股票。

### 第三步：卖出（什么时候卖？）
*   **时间**：通常是下周一上午。
*   **操作**：
    *   策略会每周重新选一次股。
    *   如果新选出来的10只股票和手里持有的不一样，就卖掉旧的，买入新的（这叫“调仓”）。
    *   如果第一步的“环境检查”没通过（大象开始跳舞了），可能会卖出所有股票空仓等待（虽然代码片段未完全显示卖出逻辑，但这是此类策略的常规做法）。

## 使用的工具/指标

1.  **20日均线 (MA20)**：
    *   **是什么**：过去20天股票价格的平均值。
    *   **怎么用**：如果现在的价格高于这个平均值，说明这只股票最近是上涨趋势。策略用这个来判断哪个行业最火。

2.  **ROE 和 ROA**：
    *   **是什么**：衡量公司赚钱效率的指标。
    *   **怎么用**：就像挑员工一样，只挑那些干活效率高、产出高的公司。

3.  **市值 (Market Cap)**：
    *   **是什么**：买下这家公司所有股票需要多少钱，代表公司的大小。
    *   **怎么用**：策略专门挑“便宜且小”的公司，因为它们像皮球一样，轻便，容易被踢得很高。

## 风险控制
1.  **环境过滤**：这是最大的风控。通过避开“四大搅屎棍”领涨的时期，躲过了市场风格不适合小票的日子。
2.  **分散投资**：一次买10只股票，而不是押注在1只上，防止某一家公司突然暴雷。
3.  **基本面筛选**：只买ROE和ROA高的公司，保证了买到的都是有真本事的公司，而不是只会讲故事的垃圾股。

## 总结
这个策略就像一个**“看脸色的机灵鬼”**。它每天观察市场，如果发现银行、钢铁这些“大块头”在闹腾，它就躲在一边不玩；一旦发现“大块头”休息了，它就立刻冲进去，挑选10个**身体最小但最能赚钱**的“小个子”股票买入，并每周根据情况换一换。它的目标是抓取小盘股在市场活跃期的超额收益。