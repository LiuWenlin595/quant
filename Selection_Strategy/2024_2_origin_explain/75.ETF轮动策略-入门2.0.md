## 策略概述
这是一个**ETF轮动策略**。简单来说，它的作用是：在几个代表不同市场风格的指数基金（ETF）中，每天挑选**走势最强、涨得最稳**的那一个买入持有；如果市场整体环境不好，就空仓（什么都不买）以此来规避风险。

## 策略的核心思路
这个策略背后的想法非常朴素，主要基于两个逻辑：

1.  **强者恒强（动量效应）**：如果一个东西最近涨得很好，那么它接下来继续涨的概率很大。就像赛跑一样，我们总是押注跑在第一名的那匹马。
2.  **顺势而为（择时保护）**：只有在天气好（市场环境安全）的时候才出来赛跑；如果天气恶劣（市场大跌），就躲在屋里（空仓）。

**为什么这样能赚钱？**
因为它试图抓住上涨趋势最猛的那一段，同时在市场下跌时通过空仓来保住利润，避免亏损。

## 具体操作步骤

### 第一步：选股（决定买哪个）
这个策略不买具体的某一家公司的股票，而是买**ETF（指数基金）**。你可以把ETF理解为“一篮子股票”，买了它就等于买了一堆股票，风险比单只股票小。

**备选名单**：
策略主要关注这三类ETF：
1.  **创业板ETF**（代表科技、成长型的小公司）
2.  **沪深300ETF**（代表规模最大的300家大公司）
3.  **中证500ETF**（代表中等规模的公司）

**怎么选出最好的一个？**
策略会给这三个ETF打分，打分标准看两点：
1.  **涨得快不快**：看过去27天的涨幅。
2.  **涨得稳不稳**：看走势是不是一条平滑向上的直线，而不是上蹿下跳。
**结论**：得分最高的那个ETF，就是我们要买的目标。

### 第二步：判断大环境（决定买不买）
选好了目标还不行，还得看大盘（以沪深300指数为准）安不安全。策略用了两个“温度计”来测量市场温度：

1.  **均线（MA）**：看现在的价格是不是比过去20天的平均价格高。如果是，说明趋势向上。
2.  **RSRS指标（阻力支撑）**：这是一个高级一点的工具，用来判断现在的价格是不是“虚高”或者“超跌”。

**买入信号**：
只有当**两个温度计都显示“安全”**（趋势向上且结构健康）时，策略才会动手买入刚才选出的那个得分最高的ETF。

### 第三步：卖出与调仓（什么时候卖）
这个策略是**每天**都要检查一次的。

1.  **换马（轮动）**：如果你手里持有的ETF不再是第一名了，或者有另一个ETF涨得更好、更稳了，策略就会卖出现在的，买入新的第一名。
2.  **空仓（止损/避险）**：如果那两个“温度计”显示市场环境变坏了（比如大盘开始跌了），不管手里的ETF是不是第一名，都会全部卖出，持有现金，直到市场变好。

## 使用的工具/指标

这里解释一下策略里用到的几个看起来很复杂的概念：

1.  **ETF（交易型开放式指数基金）**：
    *   **通俗解释**：就像买水果篮，你不用去挑哪一个苹果好，直接买一个装满好水果的篮子。
    *   **为什么用它**：省去了研究个股财报的麻烦，也不会因为某一家公司倒闭而血本无归。

2.  **RSRS指标（修正标准分）**：
    *   **通俗解释**：你可以把它想象成弹簧的**弹性系数**。
    *   **原理**：它通过分析最高价和最低价的关系，来判断市场现在是“强壮”还是“虚弱”。如果数值高，说明市场支撑力强，适合买入；如果数值低，说明市场像烂泥一样扶不上墙，要赶紧跑。

3.  **动量（Momentum）**：
    *   **通俗解释**：惯性。
    *   **原理**：一辆车开得越快，它往前冲的劲头就越大。策略计算过去27天的表现，就是为了找冲劲最大的那个。

## 风险控制

这个策略有几层保护措施：

1.  **大盘择时**：这是最大的保险。只要大盘（沪深300）走势不好，策略就会强制空仓。这就避免了在股灾时还要硬着头皮买股票。
2.  **只选最强**：永远只持有表现最好的那一个，去弱留强。
3.  **分散投资**：虽然只买一个ETF，但ETF本身就包含了成百上千只股票，避免了单只股票暴雷的风险。
4.  **防未来函数**：代码中专门设置了“防未来函数”，意思是回测时严格只用当时能看到的数据，不偷看“标准答案”，保证测试结果真实。

## 总结

这个策略就像一个**“势利眼”的赛马教练**：

1.  每天早上起来看天气（**大盘择时**），天气不好就休息（**空仓**）。
2.  天气好就去马场，挑一匹跑得最快、最稳的马（**动量选股**）骑上去。
3.  如果第二天发现这匹马跑不动了，或者有别的马跑得更快，就立马换一匹骑（**每日调仓**）。

它的目标是在牛市里骑上快马大赚，在熊市里躲在屋里不亏。