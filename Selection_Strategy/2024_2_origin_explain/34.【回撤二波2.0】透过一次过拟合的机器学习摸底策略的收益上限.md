## 策略概述
这是一个结合了**人工智能（AI）预测**和**严格止损规则**的股票交易策略。简单来说，它利用电脑模型来挑选可能上涨的股票，然后通过设定严格的卖出条件来保护本金，防止亏损扩大。

## 策略的核心思路
这个策略的核心想法可以比喻为：**“听聪明人的建议买入，但一旦苗头不对就赶紧跑。”**

1.  **进攻（买入）**：它不靠人眼去盯盘，而是加载了一个训练好的“人工智能模型”（就像一个看过无数历史行情的超级机器人），由这个机器人来预测哪些股票会涨。
2.  **防守（卖出）**：它非常谨慎。一旦买入的股票亏损达到一定程度，或者上涨的势头变弱了，它就会毫不犹豫地卖出，绝不恋战。

## 具体操作步骤

### 第一步：选股（如何选择要买的股票）
虽然代码中没有显示具体的筛选过程，但它加载了两个文件（`.pkl`文件），这相当于加载了两个**“大脑”**。
*   **怎么做**：策略会利用这两个“大脑”（机器学习模型）在开盘前对市场上的股票进行打分和预测。
*   **选什么**：它会选出“大脑”认为最值得买入的一组股票列表。

### 第二步：买入（什么时候买入）
*   **时间**：每天早上9:30股市刚开盘的时候。
*   **买多少**：你的目标是手里始终持有 **5只股票**。
    *   如果你手里没有股票，它就买入5只。
    *   如果你手里已经有2只，它就再买入3只。
*   **钱怎么分**：它会把你手里的现金平均分配。比如你要买3只股票，它就把可用的钱分成3份，每只股票买一份。
*   **为什么这样做**：这叫“分散投资”，不把鸡蛋放在同一个篮子里，降低风险。

### 第三步：卖出（什么时候卖出）
这是这个策略最关键的部分，它时刻盯着手中的股票（每分钟都在检查）。只要满足以下**任意一个**条件，就会卖出：

1.  **亏损止损**：
    *   **条件**：如果你买的股票亏了 **5%**（价格变成了成本的0.95倍）。
    *   **动作**：立即卖出。
    *   **为什么**：为了保住本金，防止小亏变成大亏。

2.  **趋势变坏（技术止损）**：
    *   **条件**：代码中计算了一个叫 **MA5** 的指标（5日均线）。如果股票现在的价格跌破了过去5天的平均价格。
    *   **动作**：卖出。
    *   **为什么**：过去5天的平均价格就像一根“支撑线”。如果价格跌破这根线，说明股票短期上涨的力气用完了，可能要开始跌了，所以先跑为敬。

3.  **高点回撤（根据代码注释推断）**：
    *   **条件**：如果股票在当天涨得很高，但收盘前从最高点跌下来超过5%。
    *   **动作**：卖出。
    *   **为什么**：这说明有人在大举抛售，势头不对。

## 使用的工具/指标

1.  **机器学习模型 (LightGBM)**：
    *   **是什么**：这就像一个不知疲倦的数学家，它通过分析过去海量的数据，试图找出赚钱的规律。
    *   **作用**：负责“选股”，告诉策略该买谁。

2.  **均线 (MA - Moving Average)**：
    *   **是什么**：就是把过去几天的股价加起来除以天数，画出来的一条平滑曲线。
    *   **作用**：用来判断趋势。策略中主要看**5日均线**（MA5）。你可以把它想象成股票的“生命线”，在生命线之上就持有，跌破生命线就卖出。

## 风险控制
这个策略非常看重风险控制，主要体现在三个方面：

1.  **分散持仓**：最多买5只股票，避免一只股票暴雷导致全盘皆输。
2.  **硬性止损**：亏5%坚决离场，这是铁律，防止深套。
3.  **高频监控**：它不是每天收盘才看一眼，而是**每分钟**都在监控。一旦盘中出现危险信号（比如突然大跌），它会立刻反应，不用等到第二天。

## 总结
这个策略就是一个**“AI选股 + 纪律执行”**的组合。
它利用**人工智能**来寻找上涨概率大的股票，利用**分散投资**来分摊风险，最重要的是，它利用**严格的止损规则**（亏5%或跌破均线就跑）来保护你的钱。它的目标是：**小亏大赚**（亏的时候只亏一点点就跑，赚的时候尽量多拿一会儿）。