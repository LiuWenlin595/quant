## 策略概述
这是一个**“市场体温计”**或者叫**“行业热度分析工具”**。

严格来说，这段代码不是一个自动买卖股票的交易策略，而是一个**分析仪表盘**。它帮你一眼看穿现在市场上哪些行业最火热（大家都赚钱），哪些行业最冷清（大家都在亏钱）。

## 策略的核心思路
这个工具的核心想法非常简单：**“随大流”**。

想象一下，如果你想知道“白酒”行业好不好，光看“贵州茅台”这一只股票可能不够准确。
这个策略认为：**如果一个行业里，绝大多数股票的价格都跑赢了它们最近一个月的平均价，那说明这个行业非常强势，大家都愿意花更高的价格去买，这就是“热度”。**

反之，如果一个行业里大部分股票都跌破了平均价，说明这个行业正在走下坡路。

## 具体操作步骤

虽然这段代码不直接买卖，但它帮你完成了以下关键的分析步骤，辅助你做决定：

### 第一步：选股（把全市场的股票都拉进来）
这个工具不挑食，它会把市场上**所有的股票**都找出来，并且按照**行业**（比如银行、医药、电子等）给它们分门别类地归好队。

### 第二步：打分（判断每只股票是强是弱）
它会给每一只股票做一个简单的“体检”。
*   **体检标准**：看这只股票今天的价格，是不是高于它过去20天的平均价格？
*   **通过**：如果今天价格 > 20天平均价，记为“强”。
*   **不通过**：如果今天价格 < 20天平均价，记为“弱”。

### 第三步：统计（计算行业的“健康率”）
这是最关键的一步。它会计算每个行业里，有多少比例的股票通过了“体检”。
*   **举个例子**：假设“医药”行业有100只股票，其中80只股票的价格都高于20天均线。
*   **结果**：医药行业的得分就是 **80分**（80%）。

### 第四步：展示（画出一张热力图）
最后，代码会画出一张花花绿绿的图表（热力图）：
*   **颜色越深/数字越大**：说明这个行业越火，大部分股票都在涨，属于“牛市”状态。
*   **颜色越浅/数字越小**：说明这个行业越冷，大部分股票都在跌，属于“熊市”状态。

## 使用的工具/指标

这里只用了一个最基础、最经典的指标：

**20日均线 (MA20)**
*   **这是什么？** 就是把过去20个交易日（大约一个月）的收盘价格加起来除以20，得到一个平均值。
*   **为什么要用它？** 它代表了大家最近一个月的**“平均持仓成本”**。
    *   如果股价在平均成本之上，说明最近买的人都赚钱了，大家情绪高涨，是**强势**的表现。
    *   如果股价在平均成本之下，说明最近买的人都被套住了，大家都在亏钱，是**弱势**的表现。

## 风险控制

虽然这段代码没有直接的买卖止损功能，但它本身就是一种**风险预警工具**：

1.  **大盘预警**：它不仅算行业的，还算全市场的总分。如果全市场得分很低（比如低于20分），说明整个股市都在跌，这时候最好的风险控制就是**空仓（什么都不买）**。
2.  **行业避雷**：如果你想买某个股票，先看看它所属行业的得分。如果行业得分只有10分，说明这个行业正在“大退潮”，这时候进去买股票，风险是非常大的。

## 总结

这段代码就像是给股市拍了一张**“X光片”**。

它不直接告诉你“买这只股票”，而是告诉你：“嘿，现在**半导体**行业有90%的股票都在涨，势头很猛；而**房地产**行业只有10%的股票在涨，千万别碰。”

作为一个初学者，你可以利用这个工具来**判断大势**：只在行业热度高的时候参与，在行业热度低的时候观望。