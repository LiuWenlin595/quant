## 策略概述
这是一个**利用人工智能（AI）来预测股票涨跌**的策略。简单来说，它通过分析大量的历史数据，训练一个“机器大脑”，让这个大脑学会识别哪些股票在未来可能会大涨。

## 策略的核心思路
这个策略的核心想法是：**历史是会重演的**。

想象一下天气预报：气象员通过观察今天的温度、湿度、风向（这些是“特征”），来判断明天会不会下雨（这是“结果”）。

这个策略也是一样的道理：
1.  它把股票过去的各种数据（比如成交量、价格波动等）看作“温度和湿度”。
2.  它把“股票涨了还是跌了”看作“下雨还是天晴”。
3.  它让电脑通过学习成千上万个过去的例子，总结出一套规律。
4.  一旦电脑学会了这套规律，当我们给它一只新股票的数据时，它就能算出这只股票上涨的概率有多大。

## 具体操作步骤

### 第一步：确立目标（什么样的股票才算“好股票”？）
在教电脑之前，你必须先定义清楚什么是你想要的“好股票”。
在这个策略的代码中，它定了一个硬性标准：
*   **条件**：如果一只股票在未来一段时间内**涨幅超过 3%**（代码中写着 `0.03`），它就被标记为“好股票”（打上标签 1）。
*   **否则**：如果涨幅没到 3%，或者跌了，它就被标记为“普通股票”（打上标签 0）。

### 第二步：准备教材（数据清洗与平衡）
电脑学习和人学习一样，如果教材不好，学出来的效果就不好。这里做了两个重要的准备工作：
1.  **筛选股票**：代码中有一段逻辑（`if '30' != code[:2]`），意思是剔除掉代码以“30”开头的股票（通常是创业板股票）。这可能是为了避开波动太大或风险太高的股票，只在主板股票里找机会。
2.  **平衡数据（非常重要）**：
    *   在股市里，能大涨的股票通常是少数，大部分股票表现平平。
    *   如果直接让电脑学，电脑可能会学会“偷懒”：它只要统统猜“不涨”，准确率也能很高，但这没用。
    *   **怎么做**：策略把“好股票”和“普通股票”的数量弄成一样多（比如各选 1000 个例子）。这样强迫电脑必须认真去寻找两者之间的细微差别，而不能靠蒙。

### 第三步：训练与考试（模型训练）
这是策略最核心的部分，相当于送电脑去“特训班”。
1.  **划分数据**：它把准备好的数据分成两份。80% 用来训练（做练习题），20% 用来考试（做测试题），看看学得怎么样。
2.  **自动调优**：代码中使用了一个叫“网格搜索（GridSearchCV）”的技术。
    *   这就像是在调收音机，电脑会自动尝试各种不同的“旋钮位置”（参数），比如树的深度、叶子节点的数量等。
    *   它会一遍又一遍地试，直到找到一组设置，能让预测的准确率最高。

### 第四步：预测（实战应用）
虽然这段代码主要展示的是训练过程，但在实际交易中，逻辑是这样的：
*   每天收盘后，把当天的股票数据输入到训练好的模型里。
*   模型会给每只股票打分。
*   **买入**：如果模型预测某只股票上涨的概率非常高，就买入。
*   **卖出**：通常在持有一定时间后，或者模型预测它不再上涨时卖出。

## 使用的工具/指标

在这个策略中，没有使用传统的指标（如 MACD 或 KDJ），而是使用了一个强大的机器学习工具：

*   **LightGBM**：
    *   **这是什么**：你可以把它想象成**成百上千个“小诸葛亮”组成的委员会**。
    *   **怎么工作**：第一个小诸葛亮先看数据，给出一个预测；如果预测错了，第二个小诸葛亮会专门针对第一个人犯错的地方进行修正；第三个人再修正前两个人的错误……以此类推。
    *   **为什么用它**：它计算速度非常快，而且在处理大量表格数据时，预测准确率通常比传统方法高很多。

## 风险控制

这段代码主要侧重于“如何预测得更准”，但在数据处理中体现了一些风控思想：

1.  **剔除特定板块**：通过不看“30”开头的股票，避开了某些可能波动过于剧烈的市场板块。
2.  **高门槛**：只有涨幅超过 3% 才算赢，这意味着策略在寻找确定性比较高的机会，而不是去抓那些微小的波动，这样可以覆盖掉交易的手续费成本。

## 总结

这个策略就像是**训练了一只“电子猎犬”**。
你先告诉它“猎物”长什么样（涨幅超过 3% 的股票），然后给它看大量的历史照片（平衡后的数据），让它反复练习和调整嗅觉（模型训练与参数调优）。最后，你带它进入市场，让它帮你把那些即将大涨的股票“嗅”出来。