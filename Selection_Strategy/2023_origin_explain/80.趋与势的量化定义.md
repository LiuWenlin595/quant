## 策略概述
这是一个**“趋势评分器”**策略。它的主要工作不是直接告诉你“现在买”或“现在卖”，而是给股票的走势打分。它把复杂的股票价格波动简化成一条简单的曲线，帮你判断这只股票现在是在“爬楼梯”（上涨趋势）还是在“下台阶”（下跌趋势）。

## 策略的核心思路
股票价格每天上蹿下跳，有时候虽然涨了，但其实是大跌趋势中的一个小反弹；有时候虽然跌了，其实是大涨趋势中的一个小回调。

这个策略的核心想法是：**忽略小的噪音，只看大的方向。**

它通过一套规则，把每天复杂的股价变成简单的三个状态：
1.  **向上走**（记为 +1）
2.  **向下走**（记为 -1）
3.  **原地不动**（记为 0）

这就好比你在爬山，策略不关心你每一步迈了多大，只关心你是在往上爬，还是往下走，或者是在平地上休息。

## 具体操作步骤

由于你提供的代码主要是在计算指标（也就是“打分”的过程），而没有包含具体的“下单买入”指令，所以我将重点解释它是如何分析股票的。通常，交易者会根据这个分析结果来做决定。

### 第一步：给股票“体检”（数据标准化）
策略首先要把股票每天的价格变成一个简单的信号。它用了两种方法来判断今天该给股票打几分，我们这里主要解释最聪明的那个方法（代码中的 `normalize_compound`）：

它会问两个问题：
1.  **问题一**：今天的价格比昨天涨了吗？
2.  **问题二**：今天的价格比过去5天的平均价格高吗？

**打分规则：**
*   **得 1 分（强势）**：如果两个问题的答案都是“是”。（说明股价在涨，而且站得很高）
*   **得 -1 分（弱势）**：如果两个问题的答案都是“否”。（说明股价在跌，而且跌得很深）
*   **得 0 分（震荡）**：如果一个答案是“是”，一个是“否”。（说明方向不明确，比如虽然今天涨了，但还在平均线下面，可能只是昙花一现）

### 第二步：画出“趋势图”（累加分数）
策略把你每天的得分加起来。
*   如果股票一直得1分，总分就会越来越高，画出来的线就是一条漂亮的上升直线。
*   如果股票一直得-1分，总分就会越来越低。

### 第三步：计算“趋势得分”（判断强弱）
代码中还有一个高级功能（`Tren_Score`），它是用来给刚才画出来的线打分的。
*   它会去寻找那些**转折点**（比如从涨变跌的那个最高点）。
*   **势得分**：计算这些转折点之间的力度。简单理解就是，如果这只股票涨得很猛，回调很小，再涨很猛，它的得分就很高。

### 第四步：交易决策（基于逻辑的推断）
虽然代码没写具体的买卖点，但根据这个策略的逻辑，通常的操作是：
*   **买入时机**：当那个“累加分数”开始稳定向上，或者“趋势得分”很高时，说明上涨趋势确立，适合买入。
*   **卖出时机**：当“累加分数”开始掉头向下，说明上涨动力没了，开始走下坡路，适合卖出。

## 使用的工具/指标

这里主要用了两个简单的数学工具，别被名字吓到：

1.  **均线 (Moving Average, MA)**
    *   **是什么**：代码里用的是“5周期均线”，就是过去5天收盘价的平均值。
    *   **为什么用它**：它像一根“基准线”。价格在它上面，说明最近比较强；在它下面，说明最近比较弱。

2.  **标准化 (Normalization)**
    *   **是什么**：就是把“股价涨了0.5元”或者“跌了10%”这种具体的数字，统统变成简单的“+1”或“-1”。
    *   **为什么用它**：为了过滤噪音。我们不关心涨了多少，只关心是不是真的在涨。这样可以把锯齿一样的股价图，变成像楼梯一样平滑的趋势图。

## 风险控制

虽然代码中没有直接写止损代码，但这个策略本身自带一种风险控制逻辑：

*   **过滤震荡**：当市场忽上忽下（震荡市）时，根据上面的打分规则，得分会经常是0，或者+1之后马上-1。这样总分就涨不上去。这意味着策略会告诉你“现在方向不明”，让你不要轻易进场，从而避免在乱动的市场里亏钱。

## 总结
这个策略就像一个**“股票翻译官”**。它把复杂的股价波动翻译成简单的“上、下、停”指令。

*   它通过比较**今天的价格**和**过去5天的平均价**。
*   如果两者都说好，就记一笔“上涨”。
*   如果两者都说坏，就记一笔“下跌”。
*   **你的任务**就是跟着这个简化后的趋势走：分数一直涨就持有，分数开始跌就跑路。