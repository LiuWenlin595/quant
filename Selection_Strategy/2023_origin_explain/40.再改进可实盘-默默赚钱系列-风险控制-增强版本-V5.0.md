## 策略概述
这是一个**“稳中求胜”**的策略。它的目标是在大公司里寻找那些**走势非常平稳、一直在缓慢上涨**的股票。同时，它非常谨慎，会看大盘（整体市场）的脸色，如果市场太热，它就不买，防止买在高点。

## 策略的核心思路
你可以把这个策略想象成一个**“寻找长跑冠军”**的教练：
1.  **只选优等生**：只在最大的300家公司里挑。
2.  **喜欢稳重型**：不喜欢那些忽上忽下的“疯牛”，只喜欢那些沿着一条直线稳稳往上爬的股票。
3.  **避开热闹**：如果一只股票突然被很多人炒作（成交量巨大），这个策略会避开，因为它觉得这不安全。
4.  **大环境判断**：如果整体市场涨得太猛（过热），它会暂停买入，以此来控制风险。

---

## 具体操作步骤

### 第一步：选股（如何选择要买的股票）
这个策略每周选一次股，它会像漏斗一样层层筛选：

1.  **海选范围**：只看**沪深300指数**里的股票（也就是中国股市里规模最大、最稳定的300家公司）。
2.  **剔除异常**：去掉停牌的、涨跌停的，或者价格太贵（超过500元一股）的股票。
3.  **只要“抗跌”的**：
    *   它会看过去30天股票的最高价。
    *   如果现在的价格离最高价很近（跌幅不超过10%），说明这只股票很强势，没有崩盘，留下来。
4.  **不要“凑热闹”的**：
    *   它会看最近7天的成交量（交易活跃度）。
    *   如果最近突然比平时（过去半年）活跃太多（超过1.5倍），说明可能有人在炒作，风险大，**剔除掉**。
5.  **寻找“画线派”**（这是最关键的一步）：
    *   它会看过去120天（半年）的股价走势。
    *   它用数学方法（线性回归）给股价画一条线。
    *   **条件一**：这条线必须是**向上**的（在涨）。
    *   **条件二**：股价必须**紧贴**着这条线走（走势非常平滑，不是那种心电图一样的乱跳）。
6.  **最终决定**：在满足上面所有条件的股票里，挑出**涨得最稳、最漂亮**的前2名。

### 第二步：买入（什么时候买入）
选好那2只股票后，策略不会马上闭眼买，它会先看一眼“天气”（大盘环境）：

1.  **看大盘**：它会看“上证指数”（代表整个股市的平均水平）。
2.  **判断冷热**：
    *   如果大盘指数比它过去10天的平均价格高很多，策略认为现在是**“牛市/过热”**。
    *   如果大盘指数比较低，策略认为现在是**“熊市/冷静期”**。
3.  **决定动作**：
    *   **奇怪但保守的设定**：根据代码逻辑，如果判断市场是**“牛市”**（过热），它反而**不买入**（可能是为了防止追高被套）。
    *   只有当市场处于**“熊市”**（相对冷静或低位）时，它才会买入那2只选好的股票。

### 第三步：卖出（什么时候卖出）
卖出的逻辑非常简单直接：

*   **优胜劣汰**：每周重新选一次股。如果原本持有的股票，不再是新的“前2名”了，就直接**卖出**，换成新的更好的股票。

---

## 使用的工具/指标

为了让你听得懂，我把专业指标翻译了一下：

1.  **均线 (MA)**：
    *   **是什么**：过去一段时间的平均价格。
    *   **为什么用**：用来判断大盘是贵了还是便宜了。
2.  **线性回归 (Linear Regression)**：
    *   **是什么**：你可以理解为拿一把尺子，在股价走势图上画一条直线。
    *   **为什么用**：用来找出那些走势最直、最稳的股票。策略里用到了`r_value`（拟合度），这个数值越高，说明股价走得越像一条直线，越平稳。
3.  **成交量均值**：
    *   **是什么**：看最近大家交易这只股票的热情程度。
    *   **为什么用**：用来避开那些突然被爆炒的股票，因为爆炒之后往往是一地鸡毛。

---

## 风险控制

这个策略做了很多事来保护你的钱：

1.  **只买大票**：只买沪深300的大公司，不会买到那种突然倒闭的小公司。
2.  **分散投资**：虽然只买2只，但也比全仓买1只安全一点（不过2只其实还是比较激进的）。
3.  **拒绝追高**：通过成交量筛选，避开热门炒作股。
4.  **大盘择时**：如果大盘位置太高，它就停止买入，宁愿错过也不要做错。

---

## 总结

这个策略就像一个**“谨慎的收藏家”**。它只在大商场（沪深300）里逛，专门寻找那些**价格走势像画直线一样稳步上涨**的优质商品。而且它很抠门，如果觉得整个商场物价都太高了（大盘过热），它就忍住不买；只有当市场冷静的时候，它才会出手买入那两只最完美的股票。