## 策略概述
这个策略叫做**“小市值策略（国九条改良版）”**。简单来说，它的目标是**专门去买股票市场上那些“个头”最小、但又符合国家新规定（没有退市风险）的公司**。

## 策略的核心思路
这个策略的想法非常直接：
1.  **小船好掉头**：在股市里，大公司像大象，很难快速翻倍；小公司像猴子，虽然上蹿下跳，但更有可能在短时间内暴涨。
2.  **避开“烂苹果”**：以前买小公司容易买到快倒闭的（烂苹果）。这个策略根据国家最新的“国九条”规定，特意要把那些财务造假、可能退市的“烂苹果”剔除掉，只留在大有潜力的小公司。

## 具体操作步骤

### 第一步：选股（如何选择要买的股票）
虽然你提供的代码主要是“准备工作”，但根据标题和设置，我们可以看出它是怎么选股的：
1.  **挑个头小的**：它会把市场上所有的股票按“总市值”（公司的总身价）排队，专门挑排名最靠后、身价最低的那一批。
2.  **剔除“坏学生”**：
    *   **审计筛选**（代码中提到了 `filter_audit`）：它会看会计师给公司的“体检报告”。如果会计师说这家公司账目有问题，策略就会把这家公司踢出去。
    *   **国九条筛选**：根据标题，它会根据国家最新的严格规定，把那些不分红、经营很差、有退市风险的股票排除掉。

### 第二步：买入（什么时候买入）
*   **每天/定期检查**：策略会定期看一看，如果发现手里持有的股票“长大了”（市值变大了），不再是最小的了，或者发现有更小的“好苗子”出现了，它就会准备买入新的。
*   **涨停板处理**：代码中有一个变量叫 `yesterday_HL_list`（昨日涨停列表）。这意味着，如果一个股票昨天涨停了（涨到了最高限制，买的人极其多），策略可能会特别关注，因为这通常意味着势头很猛。

### 第三步：卖出（什么时候卖出）
1.  **长大了就卖**：如果手里的小公司股价涨上去了，变成了“中等公司”，不再符合“全市场最小”这个条件，策略就会把它卖掉。
2.  **止损（亏了就跑）**：代码中开启了 `g.run_stoploss = True`。这意味着策略有一个保命机制：如果买入的股票跌得太厉害，超过了某个底线，策略不会死扛，而是会直接卖出止损，防止亏光本金。

## 使用的工具/指标

这里用几个简单的比喻来解释代码中出现的专业设置：

1.  **市值（Market Cap）**：
    *   **解释**：就是买下整个公司需要多少钱。
    *   **作用**：这是本策略唯一的尺子，用来衡量公司的大小。
2.  **基准（Benchmark - 399101.XSHE）**：
    *   **解释**：这就像是考试的“平均分”。这里设定的是“中小板指数”。
    *   **作用**：用来对比策略表现好不好。如果策略赚的钱比这个指数多，说明策略很厉害。
3.  **滑点（Slippage）**：
    *   **解释**：代码里设置了 `3/10000`。这就像你去菜市场买菜，标价10块，但你实际买的时候可能要花10块零3厘。
    *   **作用**：模拟真实交易中价格的波动，让回测结果更真实，不自欺欺人。
4.  **交易成本（Order Cost）**：
    *   **解释**：就是给券商的手续费和给国家的印花税。
    *   **作用**：计算收益时，把这些必须要花的“过路费”都扣除掉，算出来的才是真正装进口袋的钱。

## 风险控制

这个策略虽然激进（买小公司），但也做了很多防守动作：

1.  **防未来函数（Avoid Future Data）**：
    *   **解释**：确保策略在测试历史数据时，没有“偷看答案”。比如不能在2022年就知道2023年谁是大牛股。这保证了策略的真实性。
2.  **止损机制**：
    *   如前所述，遇到大跌坚决卖出，留得青山在。
3.  **避雷筛选**：
    *   通过“国九条”和“审计意见”过滤，尽量不买到那些因为造假而突然暴雷退市的股票。

## 总结
这个策略就像是一个**“淘金者”**。它专门在沙子里找那些**个头很小但闪闪发光**的金子（小市值股票）。为了防止买到假金子（垃圾股），它利用国家最新的严格标准（国九条）进行了过滤。同时，它还随身带着“止损”这个降落伞，一旦情况不对就赶紧跳伞，保护本金安全。