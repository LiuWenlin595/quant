这是一个基于聚宽（JoinQuant）平台的量化策略代码。根据你的要求，我将用最通俗、最生活化的语言为你解释这个策略是如何运作的。

## 策略概述
这个策略的名字很有趣，叫“大妈选股法”（或者“正黄旗大妈选股法”）。简单来说，它是一个**专门挑选“小而美”且“大方分红”的股票，并在股价冲高回落时卖出**的策略。

## 策略的核心思路
你可以把这个策略想象成一位精明的菜场大妈去买菜：
1.  **只买便宜又实惠的**：她不喜欢那些贵得离谱的大品牌（大盘股），而是喜欢那些虽然个头小（小市值），但愿意给回头客送葱送蒜（高分红）的摊位。
2.  **见好就收**：如果某个菜突然被大家抢疯了（涨停），价格涨不动了开始往下掉，她就赶紧卖掉赚差价，绝不贪心。

**为什么这样做？**
*   **小市值**的股票通常比大公司更有爆发力，容易大涨。
*   **高分红**说明公司手里有真钱，不是骗子。
*   **冲高回落卖出**是为了锁住利润，防止坐“过山车”（赚了又赔回去）。

---

## 具体操作步骤

### 第一步：选股（如何选择要买的股票）
这个策略每个月（通常是月初）会进行一次大规模的“选秀”，挑选出最好的股票。

**选秀标准如下：**
1.  **必须“大方”（高股息）**：
    *   策略会算出所有股票的“股息率”（分红金额除以股价）。
    *   它只看全市场分红最慷慨的前25%的股票。
    *   *通俗解释*：就像存钱选利息高的银行一样，这里选愿意给股东发现金的公司。

2.  **必须“有潜力且不贵”（基本面筛选）**：
    *   它使用了一个叫**PEG**的指标（市盈率除以净利润增长率）。
    *   要求这个指标在 -1 到 3 之间。
    *   *通俗解释*：这表示公司的股价相对于它的赚钱增长速度来说，是合理的，没有被炒作得太高。

3.  **必须“个头小”（小市值）**：
    *   它只选总市值小于100亿（代码里写的是100，单位通常是亿元）的公司。
    *   然后，它会把这些公司按市值**从小到大**排队。
    *   *通俗解释*：专挑小公司，因为小公司就像小船，掉头快，跑得也快（股价容易翻倍）。

4.  **排除“坏苹果”**：
    *   不买ST股（快破产的公司）、不买停牌的、不买已经涨停买不进去的。

**最终结果**：从符合上述条件的公司中，选出排名最靠前的几只放入“购物车”。

### 第二步：买入（什么时候买入）
*   **时间**：每个月的第一个交易日。
*   **数量**：策略计划持有 **10只** 股票。
*   **资金分配**：把你手里的钱平均分成几份，买入选好的股票。

### 第三步：卖出（什么时候卖出）
这个策略的卖出逻辑非常有特色，它不是每个月把股票全卖了，而是每天盯着股票看，寻找一种特殊的“逃跑”机会。

**“涨停板逃跑法”：**
1.  **观察**：策略每天早上会检查你手里的股票，看看哪只股票**昨天**是“涨停”的。
    *   *名词解释*：**涨停**就是股票一天内涨到了规定的最高限度（通常是10%或20%），不能再涨了。这说明昨天大家都在抢着买。
2.  **行动**：如果昨天涨停的股票，**今天**的价格没有封住涨停板（价格掉下来了，或者开盘就没封住），策略就会**立刻卖出**。
3.  **逻辑**：昨天那么强，今天却软了，说明上涨的劲头没了，赶紧跑，落袋为安。

*(注：代码中还有一段关于“成交量”的卖出逻辑，但相关函数定义不完整，所以主要依靠上述的涨停逻辑和每月的换股逻辑)*

---

## 使用的工具/指标

为了让你听得懂，我把代码里用到的专业指标翻译一下：

1.  **股息率 (Dividend Ratio)**：
    *   *是什么*：公司给你发的现金分红占股价的比例。
    *   *为什么用*：用来判断公司是否大方，也是一种安全垫（股价不涨我也能拿分红）。

2.  **市值 (Market Cap)**：
    *   *是什么*：买下整个公司需要多少钱。
    *   *为什么用*：这个策略专攻“小市值”，因为小公司在牛市里往往涨得比大公司猛。

3.  **PEG (市盈率相对盈利增长比率)**：
    *   *是什么*：用来衡量股价是否配得上它的增长速度。
    *   *为什么用*：防止买到虽然小、但是价格已经被炒上天的垃圾股。

4.  **涨停 (High Limit)**：
    *   *是什么*：A股市场的规则，一天最多涨10%（创业板/科创板是20%）。
    *   *为什么用*：作为卖出的信号灯。涨停代表极度强势，一旦不涨停了，代表强势结束。

---

## 风险控制

虽然这个策略号称年化收益很高，但它也有保护措施：

1.  **分散投资**：它不是把钱全押在一只股票上，而是买了10只。这样万一有一只踩雷了，也不会赔光。
2.  **基本面过滤**：通过PEG指标，过滤掉了那些光长个子不赚钱、或者股价虚高的泡沫公司。
3.  **止盈机制**：通过“涨停打开就卖出”的规则，强制在股票最热门的时候冷静离场，保住赚到的钱。

---

## 总结

**“大妈选股法”策略就是：**

每个月去市场上挑一堆**个头小、分红多、价格公道**的小公司股票买进来。平时拿着不动，一旦发现某只股票突然暴涨（涨停）后开始乏力（打开涨停），就立刻卖掉赚钱。

这是一个典型的**小盘股轮动 + 强势股止盈**的策略，适合喜欢博取高收益、愿意承担小股票波动风险的人。