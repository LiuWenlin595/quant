## 策略概述
这是一个利用**人工智能（机器学习）**来寻找“必涨形态”的策略。简单来说，它通过分析过去的历史数据，找出那些**大涨之前**股票长什么样，然后去市场上找现在长得一样的股票买入。

## 策略的核心思路
这个策略的核心想法有两个：
1.  **历史会重演**：如果过去某种走势（比如连续微跌后突然放量）之后紧接着就是大涨，那么现在出现这种走势，未来也很可能会大涨。
2.  **小船好调头**：市值小（公司规模小）的股票，更容易被资金推动上涨，所以主要关注小市值的公司。

你可以把它想象成**天气预报**：电脑通过分析过去几年的天气，发现每次“云层变成某种特定形状”后，第二天都会下大雨。于是，策略就是每天盯着天空，一旦发现云层变成了那个形状，就赶紧带伞（买入）。

## 具体操作步骤

### 第一步：选股（如何选择要买的股票）
这个策略的选股过程像是一个漏斗，分三层筛选：

1.  **初筛（剔除坏苹果）**：
    *   首先，把那些有风险的股票剔除掉（比如“ST股”这种经营不善的，或者刚上市不到3年的新股）。
    *   同时，为了稳健，它也剔除了创业板、科创板等波动特别大的板块。
    *   **目的**：保证选出来的股票基本面相对“干净”。

2.  **选小（找潜力股）**：
    *   在剩下的股票里，只挑**市值最小的那20%**。
    *   **目的**：小市值的股票就像轻便的小跑车，给点油门（资金）跑得快。

3.  **找“冠军相”（核心步骤）**：
    *   **学习阶段**：电脑会回测过去3年的数据，专门找那些**7天内涨了10%以上**的“牛股”。然后把它们大涨**前7天**的走势图（K线形态）截取下来。
    *   **总结规律**：电脑利用一种叫“聚类”的技术，把成千上万个“大涨前的形态”进行归纳总结，最后提炼出**5种最典型的“必涨形态”**（比如可能是“V型反转”、“平步青云”等形状）。
    *   **匹配阶段**：看看今天市场上哪些股票最近7天的走势，和这5种“必涨形态”长得特别像。

### 第二步：买入（什么时候买入）
*   **时间**：策略设定每**7天**进行一次交易（在上午9:45）。
*   **条件**：如果某只股票最近7天的走势，与电脑总结出的“必涨形态”非常相似（相似度达到一定标准），就会被列入买入名单。
*   **数量**：最终只买入匹配度最高的**5只股票**。

### 第三步：卖出（什么时候卖出）
*   **时间**：同样是每**7天**检查一次。
*   **条件**：
    *   如果你手里的股票，不再符合新一轮的“必涨形态”筛选标准，就卖出。
    *   简单来说，就是“优胜劣汰”，每7天换一批血，始终持有长得最像要大涨的那5只。

## 使用的工具/指标

这里用到了几个听起来很高级但原理简单的概念：

1.  **K-Means聚类（K-Means Clustering）**：
    *   **通俗解释**：这就好比把一堆乱七八糟的水果进行分类。电脑自动把圆的放一堆（苹果），长的放一堆（香蕉）。在这里，它是把各种各样的股票走势图，自动归类成几种典型的“形状”。

2.  **DTW距离（动态时间规整）**：
    *   **通俗解释**：这是用来判断两个走势图“像不像”的尺子。普通的尺子比较死板，但DTW这把尺子很有弹性。比如一个走势是“跌-跌-涨”，另一个是“跌-跌-跌-涨”，虽然长度不一样，但形态很像。DTW能识别出这种“神似”的形态。

3.  **线性回归（Linear Regression）**：
    *   **通俗解释**：用来画一条直线，判断股票总体是在往上走还是往下走。策略用它来确认过去那些样本确实是处于“上涨趋势”中。

## 风险控制

策略里藏着几个保护你的机制：
1.  **分散投资**：不是把钱全押在一只股票上，而是买了**5只**。这样万一有一只看走眼了，也不会赔光。
2.  **避开雷区**：一开始就剔除了ST股（垃圾股）和刚上市的新股，避免了踩雷的风险。
3.  **定期换仓**：每7天就重新审视一次，如果发现不对劲（形态坏了）就赶紧卖掉，不会死拿着不放。

## 总结
这个策略就像是一个**“形态猎人”**。它不看新闻，不听消息，只相信图形。它认为**“长得像赢家的股票，大概率也会赢”**。

它先通过学习历史，记住了5种“大涨前夕”的样子，然后每过一周就在市场上寻找长成这样的**小市值股票**买入，以此来博取上涨的收益。