# 量化策略解释：ETF轮动策略

## 策略概述
这是一个**"谁强买谁，不行就跑"**的策略。它不买具体的某一只股票，而是买**ETF基金**（一篮子股票的集合），专门挑选近期涨势最好的那个买入，如果市场整体不好，就空仓休息。

## 策略的核心思路
这个策略背后的想法非常简单朴素：**强者恒强**。

想象你在看一场赛马比赛：
1.  你并不关心每一匹马的具体名字，你只关心哪匹马跑得最快。
2.  如果一匹马跑到了第一名，你就把注押在它身上。
3.  如果这匹马跑慢了，被别的马超过了，你就换到新的第一名身上。
4.  如果所有马都跑不动了（市场大跌），你就把钱收回来，不玩了。

这就是所谓的**"动量效应"**——涨得好的东西，往往在短期内还会继续涨。

## 具体操作步骤

### 第一步：选股（如何选择要买的标的）
这个策略不选个股，而是从一个**预设的ETF名单**里选。
*   **什么是ETF？** 你可以把它理解为一个"套餐"。比如"白酒ETF"就是一篮子白酒股，"科技ETF"就是一篮子科技股。买ETF相当于买了一个行业或一个板块，不用担心某一家公司突然倒闭。
*   **备选名单**：策略里准备了很多种类的ETF，包括创业板、科创板、消费、医药、科技等（代码中 `g.etf_list` 部分）。
*   **筛选标准**：策略会看这些ETF在过去一段时间（比如**20天**）的**涨幅**是谁最高。

### 第二步：买入（什么时候买入）
策略会在每个交易日的**上午11:15**进行检查：
1.  它会对备选名单里的ETF按涨幅进行排名。
2.  它会选出**排名第1**的那只ETF。
3.  **买入条件**：
    *   如果这只排名第1的ETF，它的涨幅是**正数**（说明它在涨），策略就会全仓买入它。

### 第三步：卖出（什么时候卖出）
卖出通常发生在两种情况：
1.  **换马（调仓）**：
    *   你手里持有的这只ETF，虽然还在涨，但已经不是第一名了，有别的ETF涨得比它更好。
    *   这时，策略会卖出你手里的，买入那个新的第一名。
2.  **空仓（避险）**：
    *   如果连排名第1的ETF，它的涨幅都是**负数**（说明市场里表现最好的都在跌，整个市场环境很差）。
    *   这时，策略会**卖出所有持仓**，持有现金，什么都不买，直到市场好转。

## 使用的工具/指标

在这个策略中，主要用到了一个非常简单的概念：

*   **阶段涨幅（Increase）**：
    *   **解释**：就是看价格在过去一段时间涨了多少。
    *   **为什么用它**：用来判断谁是"最强"的。代码中设置了 `g.check_unit = 20`，意思是看过去20天的表现。

*   *注：代码中还提到了BBI指标，但根据设置 `g.strategy ='Increase'`，目前生效的是按涨幅排序的简单模式。*

## 风险控制

这个策略有一个很重要的保命机制：

*   **大盘止损（空仓机制）**：
    *   代码中有一个判断：`if max_change <= g.criteria`（如果最大涨幅小于等于0）。
    *   **通俗解释**：如果连"矮子里拔将军"选出来的第一名都在跌，说明覆巢之下无完卵。这时候策略会强制**清仓**，不持有任何基金。这能帮你躲过股市的大暴跌。

## 总结
这个策略就像一个**"追涨杀跌"的聪明猎人**。它每天盯着一堆行业基金，**只买过去20天涨得最好的那一个**。如果发现了更好的，就立马换过去；如果发现所有基金都在跌，就立马空仓休息。它的目标是抓住市场上的热点，同时在熊市时保住本金。