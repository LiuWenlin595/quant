## 策略概述
这是一个专门用来交易 **ETF（指数基金）** 的策略。简单来说，它的目标是：**在市场行情好的时候，买入涨势最好、最稳的那一只基金；在市场行情变坏的时候，果断空仓（不持有任何股票），以此来保护本金。**

## 策略的核心思路
这个策略的核心想法可以概括为两点：**“强者恒强”** 和 **“看天吃饭”**。

1.  **强者恒强（选股）**：就像赛马一样，我们不猜哪匹马未来会跑得快，而是看过去一段时间哪匹马跑得最快、最稳，我们就押注哪匹马。
2.  **看天吃饭（择时）**：在赛马之前，我们要先看天气（大盘环境）。如果天气晴朗（市场好），我们就下注；如果狂风暴雨（市场差），我们就回家睡觉，绝不冒险。

## 具体操作步骤

### 第一步：选股（如何选择要买的基金）
这个策略不买具体的某一家公司的股票，而是买 **ETF（指数基金）**。ETF就像是一个篮子，里面装了很多只股票，买它相当于买了一堆股票，风险比单只股票小。

1.  **备选名单**：策略关注以下几个大的指数基金：
    *   **上证180**（代表上海市场的大公司）
    *   **创业板**（代表成长型的小公司）
    *   **纳指**（代表美国的科技公司，如苹果、微软）
    *   **中证500**（代表中国的中型公司）
    
2.  **挑选标准**：策略会给这些基金打分，打分依据两个条件：
    *   **涨得快不快**（收益率高）
    *   **涨得稳不稳**（走势是不是一条平滑的直线，而不是上蹿下跳）
    
    **结论**：策略每天都会计算，然后只选出**得分最高的那 1 只**基金作为买入目标。

### 第二步：买入（什么时候买入）
选好了最好的基金，不代表马上就要买。你还需要判断大环境（以**沪深300指数**为参考）是否安全。

策略使用了两个“温度计”来测量市场热度：
1.  **均线（MA）**：看最近的价格是不是比之前的价格高，判断趋势是不是向上的。
2.  **RSRS指标**：这是一个用来判断市场是“强”还是“弱”的高级工具（后面会解释）。

**买入信号**：
只有当 **RSRS指标显示市场很强（分数大于0.7）** 并且 **均线显示趋势向上** 时，策略才会发出“买入”指令。

**怎么买**：
如果手里没货，就全仓买入那只得分最高的基金；如果手里已经有货了，但不是得分最高的那只，就换成得分最高的那只。

### 第三步：卖出（什么时候卖出）
卖出通常是为了避险。

**卖出信号**：
当 **RSRS指标显示市场很弱（分数小于 -0.7）** 并且 **均线显示趋势向下** 时，策略会认为大跌要来了。

**怎么卖**：
这时候不管手里拿着什么，**全部卖出**，变成现金，空仓等待，直到下一次买入信号出现。

*注：如果市场不好也不坏（震荡市），策略会选择“躺平”，保持当前的持仓不动。*

## 使用的工具/指标

这里用到了两个主要工具，我们用大白话解释一下：

1.  **动量（Momentum）**：
    *   **是什么**：就是惯性。
    *   **为什么用它**：物理学告诉我们，一个物体如果正在加速跑，它大概率还会继续往前跑。股票也一样，过去涨得好的，接下来一段时间往往还能涨。

2.  **RSRS指标（阻力支撑相对强度）**：
    *   **是什么**：你可以把它想象成一个**“弹簧强度计”**。
    *   **为什么用它**：它通过分析最高价和最低价的关系，来判断现在的价格是“涨过头了要跌”，还是“跌不动了要涨”。在这个策略里，它经过了改良（修正标准分），专门用来精准判断大盘是不是处于上涨趋势中。

## 风险控制

这个策略非常注重保护本金，主要通过以下方式控制风险：

1.  **大盘择时（最大的风控）**：
    这是最关键的。如果大盘环境不好（比如熊市来了），策略会强制空仓。这就避免了在股市大跌时跟着赔钱。

2.  **分散投资（ETF）**：
    只买指数基金，不买单只股票，避免了某家公司突然倒闭或暴雷的风险。

3.  **每日轮动**：
    每天都在检查哪只基金最好。一旦手中的基金变弱了，或者有更强的基金出现了，马上就会换车，确保手里拿的永远是“优等生”。

4.  **止损机制**：
    代码中包含了一个 `check_lose` 功能，虽然具体数字在文本末尾被截断了，但它的作用是：一旦亏损达到某个警戒线，会强制卖出止损，防止亏损无限扩大。

## 总结

这个策略就像一个**“聪明的冲浪者”**：

1.  它只在**海浪好（市场环境好）** 的时候下水。
2.  它只挑**最高、最稳的那朵浪花（表现最好的ETF）** 去冲。
3.  一旦发现**风暴要来了（市场转坏）**，它就立刻上岸休息，绝不恋战。

通过这种方式，它试图在牛市里多赚钱，在熊市里不亏钱，从而实现长期的稳定盈利。