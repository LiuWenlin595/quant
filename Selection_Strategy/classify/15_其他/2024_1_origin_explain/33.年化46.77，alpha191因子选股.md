这是一个非常典型的量化策略，结合了**基本面筛选**、**人工智能算法**和**技术指标择时**。虽然代码看起来很复杂，但它的核心逻辑其实很直观。

下面我为你详细拆解这个策略是如何帮你在股市里“寻宝”的。

## 策略概述
这个策略就像一个**精明的淘金者**，每隔10天，它会从几千只股票中筛选出**3只**它认为被低估且趋势向好的股票买入，并卖出不再符合条件的股票。

## 策略的核心思路
这个策略赚钱的逻辑建立在两个核心想法上：
1.  **寻找“被错杀”的潜力股**：通过人工智能算法计算，找出那些**实际价值应该很高，但目前价格（市值）还很低**的股票。这就像在商场里找“标价标低了”的名牌商品。
2.  **顺势而为**：即使股票便宜，如果它正在跌也不买。策略会用一个叫“Fisher变换”的工具确认股价是不是处于上涨趋势中，只买**既便宜又在涨**的股票。

## 具体操作步骤

### 第一步：海选与初筛（把烂苹果扔掉）
在开始复杂的计算前，策略会先进行一轮大清洗，把不靠谱的股票剔除：
*   **剔除“坏”股票**：不买停牌的、退市的、带ST帽子（风险警示）的股票。
*   **剔除“太新”的股票**：上市不满半年的次新股不买，因为价格不稳定。
*   **剔除“买不进/卖不出”的股票**：涨停或跌停的股票不碰。

### 第二步：精选“优等生”（基本面选股）
在剩下的股票里，策略会挑选出**500只**基本面不错的股票。挑选标准是：
*   **便宜**：市盈率（PE）不能太高（小于100）。
*   **盘子别太大**：市值不能超级大（小于1000亿），因为小船好调头，爆发力强。
*   **成长性好**：它特别看重“PEG”这个指标（市盈率除以利润增长率）。简单说，就是**不仅要便宜，还得赚钱能力在增长**。

### 第三步：人工智能打分（核心黑科技）
这是策略最聪明的地方。它使用了一种叫**SVR（支持向量回归）**的机器学习算法。
*   **怎么做**：它选取了三个神秘的数学因子（来自Alpha191库），告诉电脑：“根据这些因子的表现，你觉得这只股票应该值多少钱（市值多大）？”
*   **找机会**：电脑算出一个“预测市值”。策略会拿“实际市值”去减去“预测市值”。
*   **选谁**：如果**实际市值 < 预测市值**，说明这只股票**被低估**了（本来该值100块，现在只卖60块）。策略会把这些被低估最严重的股票排在前面。

### 第三步：择时确认（看天气出门）
在决定买入之前，策略还会用**Fisher变换（费舍尔变换）**这个工具看一眼“天气”。
*   **逻辑**：即使股票被低估，如果它正在暴跌，我们也不接飞刀。
*   **操作**：只有当Fisher指标大于0（意味着股价趋势向上，或者处于反弹阶段）时，才会真正把这只股票放入购物车。

### 第四步：买入与卖出（定期换血）
*   **什么时候操作**：每隔**10个交易日**操作一次。
*   **卖出**：检查手里持有的股票，如果它们不再出现在最新的“好股票名单”里，就全部卖掉。
*   **买入**：用卖出股票回笼的资金，买入名单里排名前3的股票。每只股票买一样多的钱（比如你有30万，每只买10万）。

## 使用的工具/指标

为了让你听得懂，我把代码里的专业术语翻译一下：

1.  **Alpha191因子（alpha_006, 015, 026）**：
    *   这是量化界很有名的一套公式库。你可以把它们想象成**股票的体检指标**（就像人的血压、心率）。策略用了其中3个指标来判断股票的健康状况。

2.  **SVR（支持向量回归）**：
    *   这是一种**人工智能算法**。在这个策略里，它扮演**估价师**的角色。它通过学习历史数据，试图算出股票的“真实身价”。

3.  **Fisher Transform（费舍尔变换）**：
    *   这是一个**判断趋势的工具**。
    *   **比喻**：就像海浪。股价有波峰和波谷。Fisher变换能帮我们把混乱的波浪变得清晰，告诉我们现在浪头是向上卷还是向下砸。策略只在浪头向上时冲浪。

4.  **中性化（Neutralization）**：
    *   代码里提到了这个词。它的作用是**消除偏见**。比如，大公司通常比小公司稳定，我们不想让“公司大小”这个因素干扰判断，所以用数学方法把这个影响剔除掉，只看股票纯粹的优劣。

## 风险控制

虽然策略想赚钱，但也做了一些防守措施：
1.  **分散投资**：虽然只买3只，但也比全仓买1只要安全（不过3只其实风险还是偏高的，通常建议更多）。
2.  **不碰垃圾股**：第一步的过滤（ST、退市股）就是为了避开明显的雷区。
3.  **趋势保护**：通过Fisher指标，避免在股价明显下跌的趋势中盲目抄底。

## 总结

这个策略是一个**“寻找被低估成长股”**的智能机器人。

它的工作流程是：
1.  先在全市场里挑出**基本面不错且有成长潜力**的股票。
2.  利用**人工智能**计算这些股票是不是**被低估**了。
3.  最后确认股价**趋势是否向上**。
4.  每**10天**换一次仓，始终持有它认为最值得买的**3只**股票。

它试图赚取的是“价值回归”的钱——即买入便宜的好货，等大家发现它的价值把价格买上去后，再卖出获利。